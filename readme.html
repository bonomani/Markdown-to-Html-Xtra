<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>readme</title>

  <!-- Style GitHub Flavored Markdown -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.2.0/github-markdown.min.css" integrity="sha512-bHdFZhZyKzmx1cP6sV5rfhQ2YFJ9KzPqKBBhCuGWN5Shx4ghuQks5zhOaVpMfdhEMzVdINXjEon2mDqZcSHGJw==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- Prism.js (core + theme + languages) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-bash.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-json.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-python.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-javascript.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-markdown.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-yaml.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-powershell.min.js"></script>

  <!-- KaTeX -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" crossorigin="anonymous" />
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" crossorigin="anonymous"></script>

  <style>
    body {
      background-color: #fff;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
      padding: 2rem;
      display: flex;
      justify-content: center;
    }

    .markdown-body {
      max-width: 980px;
      width: 100%;
      box-sizing: border-box;
    }

    /* Headings: mimic GitHub (sizes + underline for h1/h2) */
    .markdown-body h1 {
      font-size: 2em;
      padding-bottom: 0.3em;
      border-bottom: 1px solid #eaecef;
      margin: 1em 0 0.5em;
    }

    .markdown-body h2 {
      font-size: 1.5em;
      padding-bottom: 0.3em;
      border-bottom: 1px solid #eaecef;
      margin: 1em 0 0.5em;
    }

    .markdown-body h3 {
      font-size: 1.25em;
      margin: 1em 0 0.5em;
    }

    .markdown-body h4 {
      font-size: 1.1em;
      margin: 1em 0 0.5em;
    }

    .markdown-body h5,
    .markdown-body h6 {
      font-size: 1em;
      margin: 1em 0 0.5em;
    }

    /* Code blocks with copy button */
    pre {
      position: relative;
      background: #f6f8fa;
      padding: 1em;
      overflow-x: auto;
    }

    button.copy-btn {
      position: absolute;
      top: 6px;
      right: 6px;
      font-size: 0.75em;
      padding: 0.2em 0.6em;
      background-color: #ccc;
      border: none;
      border-radius: 3px;
      cursor: pointer;
    }

    button.copy-btn:active {
      background-color: #bbb;
    }

    #download-button {
      position: absolute;
      top: 1rem;
      right: 1rem;
      padding: 0.4em 1em;
      font-size: 0.9em;
      cursor: pointer;
      background: #eee;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-family: system-ui, sans-serif;
    }
  </style>
</head>
<body>

<article class="markdown-body">

<button id="download-button" class="download-btn" onclick="downloadCurrentPage()">💾 Download</button>
<h1 id="pencil-markdown-to-html-xtra">📝 Markdown-to-Html-Xtra</h1>
<p><strong>A PowerShell script to convert Markdown into enriched,
standalone HTML.</strong> Generate clean, styled HTML documents from
<code>.md</code> files — complete with KaTeX, Mermaid, syntax
highlighting, and copyable code blocks.</p>
<hr />
<h2 id="books-table-of-contents">📚 Table of Contents</h2>
<ul>
<li><a
href="https://bonomani.github.io/Markdown-to-Html-Xtra/readme.html">🌐
View Demo Output</a></li>
<li><a href="#sparkles-key-features">✨ Key Features</a></li>
<li><a href="#rocket-usage">🚀 Usage</a></li>
<li><a href="#gear-requirements">⚙️ Requirements</a></li>
<li><a href="#pushpin-lists">📌 Lists</a></li>
<li><a href="#link-links-and-images">🔗 Links and Images</a></li>
<li><a href="#triangular_ruler-katex-math">📐 KaTeX Math</a></li>
<li><a href="#brain-mermaid-diagram">🧠 Mermaid Diagram</a></li>
<li><a href="#pencil-blockquote">📝 Blockquote</a></li>
<li><a href="#white_check_mark-task-list">✅ Task List</a></li>
<li><a href="#test_tube-table">🧪 Table</a></li>
<li><a href="#speech_balloon-inline-code">💬 Inline Code</a></li>
<li><a href="#-syntax-highlighting">🖍 Syntax Highlighting</a></li>
<li><a href="#page_facing_up-source-readmemd">📄 Source: readme.md</a></li>
</ul>
<hr />
<h2 id="sparkles-key-features">✨ Key Features</h2>
<ul>
<li>🗒️ Converts <strong>Markdown</strong> to clean, semantic
<strong>HTML5</strong> via <strong>Pandoc</strong></li>
<li>📐 Renders <strong>KaTeX</strong> math (inline &amp; block)</li>
<li>🧠 Supports <strong>Mermaid</strong> diagrams (flowcharts, Gantt,
etc.)</li>
<li>🔁 Handles <strong>nested code fences</strong> and <strong>GitHub
Flavored Markdown (GFM)</strong></li>
<li>📋 Adds <strong>copy-to-clipboard</strong> buttons to code
blocks</li>
<li>🖍 Enables <strong>syntax highlighting</strong> via
<strong>Prism.js</strong></li>
<li>🎨 Uses a <strong>lightweight, responsive</strong> GitHub-style
template</li>
<li>💾 Generates <strong>standalone HTML</strong> (no server or internet
required)</li>
<li>📥 Optional <strong>download banner</strong> when viewed online</li>
</ul>
<hr />
<h2 id="rocket-usage">🚀 Usage</h2>
<pre><code class='language-powershell'>.\markdown_to_htmlx.ps1 -InputFile "example.md"</code></pre>

<h3 id="options">Options</h3>
<ul>
<li><code>-InputFile</code> — Path to the <code>.md</code> file
(<strong>required</strong>)</li>
<li><code>-OutputFile</code> — Output <code>.html</code> file name
(default: input name + <code>.html</code>)</li>
<li><code>-TemplateFile</code> — Custom HTML template (default:
<code>simple_standalone_tmpl.html</code>)</li>
</ul>
<hr />
<h2 id="gear-requirements">⚙️ Requirements</h2>
<ul>
<li>PowerShell (Windows, macOS, or Linux)</li>
<li><a href="https://pandoc.org/installing.html">Pandoc</a> — must be
installed and in your system <code>PATH</code></li>
</ul>
<hr />
<h2 id="pushpin-lists">📌 Lists</h2>
<h3 id="unordered-list">Unordered List</h3>
<ul>
<li>Item 1</li>
<li>Item 2
<ul>
<li>Subitem 2.1</li>
<li>Subitem 2.2</li>
</ul></li>
</ul>
<h3 id="ordered-list">Ordered List</h3>
<ol type="1">
<li>First</li>
<li>Second
<ol type="1">
<li>Substep A</li>
<li>Substep B</li>
</ol></li>
</ol>
<hr />
<h2 id="link-links-and-images">🔗 Links and Images</h2>
<p>Here is a <a href="https://openai.com">link to OpenAI</a>.</p>
<p><img src="https://openai.com/favicon.ico" alt="OpenAI Logo" /></p>
<hr />
<h2 id="triangular_ruler-katex-math">📐 KaTeX Math</h2>
<p>Inline math:<br />
Euler's identity is <span
class="math inline"><em>e</em><sup><em>i</em><em>π</em></sup> + 1 = 0</span>.</p>
<p>Block math:</p>
<p><span class="math display">$$
\int_0^\infty e^{-x^2} dx = \frac{\sqrt{\pi}}{2}
$$</span></p>
<hr />
<h2 id="brain-mermaid-diagram">🧠 Mermaid Diagram</h2>
<div class='mermaid'>graph TD
  A[Start] --> B{Is it working?}
  B -- Yes --> C[Great!]
  B -- No --> D[Fix it]
  D --> B</div>

<hr />
<h2 id="pencil-blockquote">📝 Blockquote</h2>
<blockquote>
<p>"Markdown is easy to read and write." — <em>Some Developer</em></p>
</blockquote>
<hr />
<h2 id="white_check_mark-task-list">✅ Task List</h2>
<ul class="task-list">
<li><label><input type="checkbox" checked="" />Understand
Markdown</label></li>
<li><label><input type="checkbox" checked="" />Render KaTeX</label></li>
<li><label><input type="checkbox" checked="" />Use Mermaid</label></li>
<li><label><input type="checkbox" />Profit</label></li>
</ul>
<hr />
<h2 id="test_tube-table">🧪 Table</h2>
<table>
<thead>
<tr>
<th>Syntax</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header</td>
<td>Title</td>
</tr>
<tr>
<td>Cell</td>
<td>Text</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="speech_balloon-inline-code">💬 Inline Code</h2>
<p>Use <code>print()</code> in Python to output text.</p>
<hr />
<h2 id="-syntax-highlighting">🖍 Syntax Highlighting</h2>
<h3 id="wrench-bash">🔧 Bash</h3>
<pre><code class='language-bash'>#!/bin/bash
echo "Hello, world!"
if [ "$1" == "test" ]; then
  echo "Testing mode"
fi</code></pre>

<h3 id="-json">🗂 JSON</h3>
<pre><code class='language-json'>{
  "name": "example",
  "version": "1.0.0",
  "dependencies": {
    "prismjs": "^1.29.0"
  }
}</code></pre>

<h3 id="snake-python">🐍 Python</h3>
<pre><code class='language-python'>def factorial(n):
    return 1 if n == 0 else n * factorial(n - 1)

print(factorial(5))</code></pre>

<h3 id="scroll-javascript">📜 JavaScript</h3>
<pre><code class='language-javascript'>function greet(name) {
  console.log(`Hello, ${name}!`);
}

greet("Markdown");</code></pre>

<h3 id="writing_hand-markdown">✍️ Markdown</h3>
<pre><code class='language-markdown'># Hello Markdown

- List item 1
- List item 2

**Bold text** and *italic text*

```python
print("This is a nested code block.")
```
</code></pre>

<h3 id="receipt-yaml">🧾 YAML</h3>
<pre><code class='language-yaml'>version: "3"
services:
  web:
    image: nginx:latest
    ports:
      - "80:80"</code></pre>

<h3 id="zap-powershell">⚡ PowerShell</h3>
<pre><code class='language-powershell'>param (
  [string]$Name = "World"
)

Write-Host "Hello, $Name!"</code></pre>

<hr />
<h3 id="page_facing_up-source-readmemd">📄 Source: readme.md</h3>
<pre><code class='language-markdown'># 📝 Markdown-to-Html-Xtra

**A PowerShell script to convert Markdown into enriched, standalone HTML.**
Generate clean, styled HTML documents from `.md` files — complete with KaTeX, Mermaid, syntax highlighting, and copyable code blocks.

---

## 📚 Table of Contents


* [🌐 View Demo Output](https://bonomani.github.io/Markdown-to-Html-Xtra/readme.html)
* [✨ Key Features](#-key-features)
* [🚀 Usage](#-usage)
* [⚙️ Requirements](#-requirements)
* [📌 Lists](#-lists)
* [🔗 Links and Images](#-links-and-images)
* [📐 KaTeX Math](#-katex-math)
* [🧠 Mermaid Diagram](#-mermaid-diagram)
* [📝 Blockquote](#-blockquote)
* [✅ Task List](#-task-list)
* [🧪 Table](#-table)
* [💬 Inline Code](#-inline-code)
* [🖍 Syntax Highlighting](#-syntax-highlighting)
* [📄 Source: readme.md](#-source-readmemd)


---

## ✨ Key Features

* 🗒️ Converts **Markdown** to clean, semantic **HTML5** via **Pandoc**
* 📐 Renders **KaTeX** math (inline & block)
* 🧠 Supports **Mermaid** diagrams (flowcharts, Gantt, etc.)
* 🔁 Handles **nested code fences** and **GitHub Flavored Markdown (GFM)**
* 📋 Adds **copy-to-clipboard** buttons to code blocks
* 🖍 Enables **syntax highlighting** via **Prism.js**
* 🎨 Uses a **lightweight, responsive** GitHub-style template
* 💾 Generates **standalone HTML** (no server or internet required)
* 📥 Optional **download banner** when viewed online

---

## 🚀 Usage

```powershell
.\markdown_to_htmlx.ps1 -InputFile "example.md"
```

### Options

* `-InputFile` — Path to the `.md` file (**required**)
* `-OutputFile` — Output `.html` file name (default: input name + `.html`)
* `-TemplateFile` — Custom HTML template (default: `simple_standalone_tmpl.html`)

---

## ⚙️ Requirements

* PowerShell (Windows, macOS, or Linux)
* [Pandoc](https://pandoc.org/installing.html) — must be installed and in your system `PATH`


---


## 📌 Lists

### Unordered List

- Item 1
- Item 2
  - Subitem 2.1
  - Subitem 2.2

### Ordered List

1. First
2. Second
   1. Substep A
   2. Substep B

---

## 🔗 Links and Images

Here is a [link to OpenAI](https://openai.com).

![OpenAI Logo](https://openai.com/favicon.ico)

---

## 📐 KaTeX Math

Inline math:  
Euler's identity is $e^{i\pi} + 1 = 0$.

Block math:

$$
\int_0^\infty e^{-x^2} dx = \frac{\sqrt{\pi}}{2}
$$

---

## 🧠 Mermaid Diagram

```mermaid
graph TD
  A[Start] --> B{Is it working?}
  B -- Yes --> C[Great!]
  B -- No --> D[Fix it]
  D --> B
```

---

## 📝 Blockquote

> "Markdown is easy to read and write."
> — *Some Developer*

---

## ✅ Task List

* [x] Understand Markdown
* [x] Render KaTeX
* [x] Use Mermaid
* [ ] Profit

---

## 🧪 Table

| Syntax | Description |
| ------ | ----------- |
| Header | Title       |
| Cell   | Text        |

---

## 💬 Inline Code

Use `print()` in Python to output text.

---

## 🖍 Syntax Highlighting

### 🔧 Bash

```bash
#!/bin/bash
echo "Hello, world!"
if [ "$1" == "test" ]; then
  echo "Testing mode"
fi
```

### 🗂 JSON

```json
{
  "name": "example",
  "version": "1.0.0",
  "dependencies": {
    "prismjs": "^1.29.0"
  }
}
```

### 🐍 Python

```python
def factorial(n):
    return 1 if n == 0 else n * factorial(n - 1)

print(factorial(5))
```

### 📜 JavaScript

```javascript
function greet(name) {
  console.log(`Hello, ${name}!`);
}

greet("Markdown");
```

### ✍️ Markdown

````markdown
# Hello Markdown

- List item 1
- List item 2

**Bold text** and *italic text*

```python
print("This is a nested code block.")
```

````

### 🧾 YAML

```yaml
version: "3"
services:
  web:
    image: nginx:latest
    ports:
      - "80:80"
```

### ⚡ PowerShell

```powershell
param (
  [string]$Name = "World"
)

Write-Host "Hello, $Name!"
```
</code></pre>

</article>

<script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js" type="module"></script>

<script>
document.addEventListener("DOMContentLoaded", () => {

  // Copy buttons for <pre>
  document.querySelectorAll('pre').forEach(pre => {
    const btn = document.createElement('button');
    btn.className = 'copy-btn';
    btn.setAttribute('aria-label', 'Copy code');
    btn.textContent = 'Copy';

    btn.onclick = () => {
      const code = [...pre.childNodes]
        .filter(n => n.nodeName !== 'BUTTON')
        .map(n => n.innerText || n.textContent)
        .join('');
      navigator.clipboard.writeText(code).then(() => {
        btn.textContent = 'Copied!';
        setTimeout(() => btn.textContent = 'Copy', 1500);
      });
    };

    pre.appendChild(btn);
  });

  // Math rendering (KaTeX)
  if (typeof renderMathInElement === "function") {
    renderMathInElement(document.body, {
      delimiters: [
        { left: "$$", right: "$$", display: true },
        { left: "$", right: "$", display: false }
      ]
    });
  }

  // Mermaid init (if script loaded properly)
  if (window.mermaid?.initialize) {
    mermaid.initialize({ startOnLoad: true });
  }

  // Show download button if served via HTTP
  const btn = document.getElementById("download-button");
  if (window.location.protocol.startsWith("http")) {
    btn.style.display = "inline-block";
  } else {
    btn.remove();
  }

});
</script>

<script>
function downloadCurrentPage() {
  const html = '<!DOCTYPE html>' + document.documentElement.outerHTML;
  const blob = new Blob([html], { type: "text/html;charset=utf-8" });
  const url = URL.createObjectURL(blob);

  const a = document.createElement("a");
  a.href = url;
  a.download = (document.title?.trim() || "document") + ".html";
  document.body.appendChild(a);  // ensure it's in DOM for Firefox
  a.click();
  document.body.removeChild(a);  // cleanup

  setTimeout(() => URL.revokeObjectURL(url), 100);
}
</script>

</body>

</html>
